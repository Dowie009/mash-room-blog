# APIè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - ãƒ–ãƒ­ã‚°ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¢ãƒ—ãƒªã‹ã‚‰ãƒ–ãƒ­ã‚°ã‚’æ“ä½œã™ã‚‹ãŸã‚ã®APIä»•æ§˜æ›¸

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®ç¨®é¡ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](#ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®ç¨®é¡ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ)
2. [API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ](#api-ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ)
3. [ãƒ‡ãƒ¼ã‚¿æ§‹é€ ](#ãƒ‡ãƒ¼ã‚¿æ§‹é€ )
4. [å®Ÿè£…ä¾‹](#å®Ÿè£…ä¾‹)

---

## ğŸ–¼ï¸ ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®ç¨®é¡ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

### 3ç¨®é¡ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

#### 1. æ¨ªé•·ï¼ˆLandscapeï¼‰
- **ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”**: 16:9
- **æ¨å¥¨ã‚µã‚¤ã‚º**: 1600x900px
- **ç”¨é€”**: ãƒ˜ãƒƒãƒ€ãƒ¼ç”»åƒã€é¢¨æ™¯ã€ãƒ¯ã‚¤ãƒ‰ç”»åƒ
- **è¡¨ç¤ºä¾‹**: ãƒ•ãƒ«ãƒ¯ã‚¤ãƒ‰ãƒãƒŠãƒ¼ã€ãƒ’ãƒ¼ãƒ­ãƒ¼ç”»åƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚        æ¨ªé•·ç”»åƒï¼ˆ16:9ï¼‰          â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ç¸¦é•·ï¼ˆPortraitï¼‰
- **ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”**: 3:4
- **æ¨å¥¨ã‚µã‚¤ã‚º**: 900x1200px
- **ç”¨é€”**: ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆã€å•†å“å†™çœŸã€ç¸¦æ§‹å›³
- **è¡¨ç¤ºä¾‹**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ã‚«ãƒ¼ãƒ‰ç¸¦ä¸¦ã³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚
â”‚          â”‚
â”‚  ç¸¦é•·ç”»åƒ â”‚
â”‚  (3:4)   â”‚
â”‚          â”‚
â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. æ­£æ–¹å½¢ï¼ˆSquareï¼‰
- **ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”**: 1:1
- **æ¨å¥¨ã‚µã‚¤ã‚º**: 1200x1200px
- **ç”¨é€”**: ã‚¢ã‚¤ã‚³ãƒ³ã€SNSç”¨ã€ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **è¡¨ç¤ºä¾‹**: ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºã€ã‚¿ã‚¤ãƒ«é…ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚
â”‚ æ­£æ–¹å½¢  â”‚
â”‚ (1:1)   â”‚
â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®çµ„ã¿åˆã‚ã›ä¾‹

### ãƒ‘ã‚¿ãƒ¼ãƒ³A: ãƒ˜ãƒƒãƒ€ãƒ¼ + ã‚°ãƒªãƒƒãƒ‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     æ¨ªé•·ç”»åƒï¼ˆãƒ¡ã‚¤ãƒ³ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ï¼‰  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚æ­£æ–¹å½¢â”‚ â”‚æ­£æ–¹å½¢â”‚ â”‚æ­£æ–¹å½¢â”‚
â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³B: äº¤äº’é…ç½®
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  ãƒ†ã‚­ã‚¹ãƒˆ
â”‚        â”‚  ã‚¿ã‚¤ãƒˆãƒ«
â”‚ ç¸¦é•·   â”‚  èª¬æ˜æ–‡...
â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ãƒ†ã‚­ã‚¹ãƒˆ    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
ã‚¿ã‚¤ãƒˆãƒ«    â”‚        â”‚
èª¬æ˜æ–‡...   â”‚ ç¸¦é•·   â”‚
            â”‚        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³C: ãƒã‚¬ã‚¸ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚             â”‚ â”‚æ­£æ–¹å½¢â”‚
â”‚   æ¨ªé•·      â”‚ â””â”€â”€â”€â”€â”€â”€â”˜
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚æ­£æ–¹å½¢â”‚
                â””â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### 1. ãƒ–ãƒ­ã‚°æŠ•ç¨¿ä½œæˆ

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/blog/create`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "chapter": "01",
  "title": "ç„é–¢ã®å£ã‚’æ’¤å»ã—ã¦ZONE Aã¨ç¹‹ã’ãŸè©±",
  "content": "## è¦‹å‡ºã—\næœ¬æ–‡å†…å®¹...",
  "category": "DIY",
  "date": "2026.01.06",
  "thumbnail": {
    "url": "/images/chapter01/blog-001.jpg",
    "layout": "landscape",  // "landscape" | "portrait" | "square"
    "alt": "ç„é–¢æ”¹è£…ã®æ§˜å­"
  },
  "tags": ["DIY", "ãƒªãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³", "ZONE A"]
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "postId": "ch01-2026-01-06-001",
  "url": "/chapter01/posts/blog-001",
  "message": "æŠ•ç¨¿ãŒä½œæˆã•ã‚Œã¾ã—ãŸ"
}
```

---

### 2. ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/blog/upload`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆmultipart/form-dataï¼‰**:
```
chapter: "01"
layout: "landscape"  // "landscape" | "portrait" | "square"
image: [File]
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "url": "/images/chapter01/landscape/blog-001.jpg",
  "layout": "landscape",
  "dimensions": {
    "width": 1600,
    "height": 900
  }
}
```

---

### 3. æŠ•ç¨¿æ›´æ–°

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `PUT /api/blog/update/:postId`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "title": "æ–°ã—ã„ã‚¿ã‚¤ãƒˆãƒ«",
  "content": "æ›´æ–°ã•ã‚ŒãŸæœ¬æ–‡...",
  "thumbnail": {
    "url": "/images/chapter01/new-image.jpg",
    "layout": "portrait"
  }
}
```

---

### 4. æŠ•ç¨¿å‰Šé™¤

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `DELETE /api/blog/delete/:postId`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "message": "æŠ•ç¨¿ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸ"
}
```

---

### 5. æŠ•ç¨¿ä¸€è¦§å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/blog/list?chapter=01&limit=10`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "posts": [
    {
      "id": "ch01-2026-01-06-001",
      "title": "ç„é–¢ã®å£ã‚’æ’¤å»ã—ã¦ZONE Aã¨ç¹‹ã’ãŸè©±",
      "category": "DIY",
      "date": "2026.01.06",
      "thumbnail": {
        "url": "/images/chapter01/blog-001.jpg",
        "layout": "landscape"
      },
      "excerpt": "æœ¬æ–‡ã®æŠœç²‹...",
      "url": "/chapter01/posts/blog-001"
    }
  ],
  "total": 25,
  "page": 1
}
```

---

## ğŸ“¦ ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿ï¼ˆPostï¼‰

```typescript
interface Post {
  id: string;                    // ãƒ¦ãƒ‹ãƒ¼ã‚¯ID
  chapter: '01' | '02' | '03';   // ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç•ªå·
  title: string;                 // ã‚¿ã‚¤ãƒˆãƒ«
  content: string;               // æœ¬æ–‡ï¼ˆMarkdownï¼‰
  category: string;              // ã‚«ãƒ†ã‚´ãƒª
  date: string;                  // æ—¥ä»˜ï¼ˆYYYY.MM.DDï¼‰
  thumbnail: Thumbnail;          // ã‚µãƒ ãƒã‚¤ãƒ«æƒ…å ±
  tags?: string[];               // ã‚¿ã‚°ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  excerpt?: string;              // æŠœç²‹ï¼ˆè‡ªå‹•ç”Ÿæˆå¯ï¼‰
  status: 'draft' | 'published'; // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  createdAt: string;             // ä½œæˆæ—¥æ™‚
  updatedAt: string;             // æ›´æ–°æ—¥æ™‚
}
```

### ã‚µãƒ ãƒã‚¤ãƒ«æƒ…å ±ï¼ˆThumbnailï¼‰

```typescript
interface Thumbnail {
  url: string;                              // ç”»åƒURL
  layout: 'landscape' | 'portrait' | 'square'; // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¿ã‚¤ãƒ—
  alt: string;                              // ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆ
  dimensions?: {                            // ç”»åƒã‚µã‚¤ã‚ºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    width: number;
    height: number;
  };
}
```

---

## ğŸ–¼ï¸ ç”»åƒç®¡ç†ã®æ¨å¥¨ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

```
public/images/
â”œâ”€â”€ chapter01/
â”‚   â”œâ”€â”€ landscape/          # æ¨ªé•·ç”»åƒï¼ˆ16:9ï¼‰
â”‚   â”‚   â”œâ”€â”€ blog-001.jpg
â”‚   â”‚   â””â”€â”€ blog-002.jpg
â”‚   â”œâ”€â”€ portrait/           # ç¸¦é•·ç”»åƒï¼ˆ3:4ï¼‰
â”‚   â”‚   â”œâ”€â”€ gear-001.jpg
â”‚   â”‚   â””â”€â”€ gear-002.jpg
â”‚   â””â”€â”€ square/             # æ­£æ–¹å½¢ç”»åƒï¼ˆ1:1ï¼‰
â”‚       â”œâ”€â”€ icon-001.jpg
â”‚       â””â”€â”€ icon-002.jpg
â”œâ”€â”€ chapter02/
â”‚   â”œâ”€â”€ landscape/
â”‚   â”œâ”€â”€ portrait/
â”‚   â””â”€â”€ square/
â””â”€â”€ chapter03/
    â”œâ”€â”€ landscape/
    â”œâ”€â”€ portrait/
    â””â”€â”€ square/
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã”ã¨ã«æ•´ç†
- âœ… ã©ã®ã‚µã‚¤ã‚ºã®ç”»åƒã‹ä¸€ç›®ç­ç„¶
- âœ… æœ€é©åŒ–ã‚„ç®¡ç†ãŒå®¹æ˜“

---

## ğŸ’» å®Ÿè£…ä¾‹

### ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¢ãƒ—ãƒªå´ï¼ˆReact/Next.jsï¼‰

```typescript
// hooks/useBlogAPI.ts
import { useState } from 'react';

interface CreatePostData {
  chapter: string;
  title: string;
  content: string;
  category: string;
  date: string;
  thumbnail: {
    file: File;
    layout: 'landscape' | 'portrait' | 'square';
    alt: string;
  };
  tags?: string[];
}

export const useBlogAPI = () => {
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const createPost = async (data: CreatePostData) => {
    setLoading(true);
    setError(null);

    try {
      // 1. ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
      const formData = new FormData();
      formData.append('chapter', data.chapter);
      formData.append('layout', data.thumbnail.layout);
      formData.append('image', data.thumbnail.file);

      const uploadRes = await fetch('/api/blog/upload', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${process.env.NEXT_PUBLIC_BLOG_API_SECRET}`,
        },
        body: formData,
      });

      const uploadData = await uploadRes.json();

      // 2. æŠ•ç¨¿ã‚’ä½œæˆ
      const postRes = await fetch('/api/blog/create', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${process.env.NEXT_PUBLIC_BLOG_API_SECRET}`,
        },
        body: JSON.stringify({
          chapter: data.chapter,
          title: data.title,
          content: data.content,
          category: data.category,
          date: data.date,
          thumbnail: {
            url: uploadData.url,
            layout: data.thumbnail.layout,
            alt: data.thumbnail.alt,
          },
          tags: data.tags,
        }),
      });

      const postData = await postRes.json();

      if (postData.success) {
        return postData;
      } else {
        throw new Error(postData.message);
      }
    } catch (err) {
      setError(err.message);
      throw err;
    } finally {
      setLoading(false);
    }
  };

  return { createPost, loading, error };
};
```

---

### ç®¡ç†ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// components/BlogPostForm.tsx
import { useState } from 'react';
import { useBlogAPI } from '../hooks/useBlogAPI';

export const BlogPostForm = () => {
  const { createPost, loading } = useBlogAPI();
  const [formData, setFormData] = useState({
    chapter: '01',
    title: '',
    content: '',
    category: 'DIY',
    date: new Date().toISOString().split('T')[0].replace(/-/g, '.'),
    thumbnailLayout: 'landscape' as const,
    thumbnailFile: null as File | null,
    thumbnailAlt: '',
  });

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!formData.thumbnailFile) {
      alert('ç”»åƒã‚’é¸æŠã—ã¦ãã ã•ã„');
      return;
    }

    try {
      const result = await createPost({
        chapter: formData.chapter,
        title: formData.title,
        content: formData.content,
        category: formData.category,
        date: formData.date,
        thumbnail: {
          file: formData.thumbnailFile,
          layout: formData.thumbnailLayout,
          alt: formData.thumbnailAlt,
        },
      });

      alert(`æŠ•ç¨¿ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼\nURL: ${result.url}`);
    } catch (error) {
      alert(`ã‚¨ãƒ©ãƒ¼: ${error.message}`);
    }
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-6">
      <div>
        <label>Chapteré¸æŠ</label>
        <select
          value={formData.chapter}
          onChange={(e) => setFormData({ ...formData, chapter: e.target.value })}
        >
          <option value="01">Chapter 01 - ç‰©èªã®ç©ã¿é‡ã­</option>
          <option value="02">Chapter 02 - æ²¡å…¥ã™ã‚‹æ©ŸæãŸã¡</option>
          <option value="03">Chapter 03 - æŠ€è¡“ã¨ãã®å…ˆã¸</option>
        </select>
      </div>

      <div>
        <label>ã‚¿ã‚¤ãƒˆãƒ«</label>
        <input
          type="text"
          value={formData.title}
          onChange={(e) => setFormData({ ...formData, title: e.target.value })}
        />
      </div>

      <div>
        <label>ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ</label>
        <div className="flex gap-4">
          <button
            type="button"
            onClick={() => setFormData({ ...formData, thumbnailLayout: 'landscape' })}
            className={formData.thumbnailLayout === 'landscape' ? 'active' : ''}
          >
            <div className="w-32 h-18 border-2 rounded">
              æ¨ªé•· (16:9)
            </div>
          </button>
          <button
            type="button"
            onClick={() => setFormData({ ...formData, thumbnailLayout: 'portrait' })}
            className={formData.thumbnailLayout === 'portrait' ? 'active' : ''}
          >
            <div className="w-18 h-24 border-2 rounded">
              ç¸¦é•· (3:4)
            </div>
          </button>
          <button
            type="button"
            onClick={() => setFormData({ ...formData, thumbnailLayout: 'square' })}
            className={formData.thumbnailLayout === 'square' ? 'active' : ''}
          >
            <div className="w-20 h-20 border-2 rounded">
              æ­£æ–¹å½¢ (1:1)
            </div>
          </button>
        </div>
      </div>

      <div>
        <label>ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</label>
        <input
          type="file"
          accept="image/*"
          onChange={(e) => {
            const file = e.target.files?.[0];
            if (file) {
              setFormData({
                ...formData,
                thumbnailFile: file,
                thumbnailAlt: formData.title || file.name,
              });
            }
          }}
        />
        {formData.thumbnailFile && (
          <div className="mt-2">
            <p>é¸æŠã•ã‚ŒãŸç”»åƒ: {formData.thumbnailFile.name}</p>
            <img
              src={URL.createObjectURL(formData.thumbnailFile)}
              alt="Preview"
              className="max-w-xs mt-2"
            />
          </div>
        )}
      </div>

      <div>
        <label>æœ¬æ–‡ï¼ˆMarkdownï¼‰</label>
        <textarea
          value={formData.content}
          onChange={(e) => setFormData({ ...formData, content: e.target.value })}
          rows={15}
        />
      </div>

      <button type="submit" disabled={loading}>
        {loading ? 'æŠ•ç¨¿ä¸­...' : 'å…¬é–‹'}
      </button>
    </form>
  );
};
```

---

## ğŸ¯ Astroå´ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```astro
---
// src/components/PostCard.astro
interface Props {
  title: string;
  thumbnail: {
    url: string;
    layout: 'landscape' | 'portrait' | 'square';
    alt: string;
  };
  category: string;
  date: string;
  url: string;
}

const { title, thumbnail, category, date, url } = Astro.props;

// ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¿œã˜ãŸã‚¯ãƒ©ã‚¹ã‚’è¨­å®š
const layoutClasses = {
  landscape: 'aspect-video',      // 16:9
  portrait: 'aspect-[3/4]',       // 3:4
  square: 'aspect-square',        // 1:1
};
---

<article class="post-card group cursor-pointer">
  <a href={url} class="block">
    <div class={`overflow-hidden rounded-lg ${layoutClasses[thumbnail.layout]}`}>
      <img
        src={thumbnail.url}
        alt={thumbnail.alt}
        class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"
      />
    </div>
    <div class="mt-4">
      <span class="text-xs text-[var(--accent-color)] font-mono">{category}</span>
      <h3 class="text-lg font-bold mt-2">{title}</h3>
      <p class="text-sm text-gray-400 mt-1">{date}</p>
    </div>
  </a>
</article>
```

---

## ğŸ“Š ç”»åƒã‚µã‚¤ã‚ºã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### Astro APIå´ã§ã®æ¤œè¨¼

```typescript
// src/pages/api/blog/upload.ts
const validateImageSize = (
  layout: 'landscape' | 'portrait' | 'square',
  width: number,
  height: number
): boolean => {
  const aspectRatios = {
    landscape: 16 / 9,
    portrait: 3 / 4,
    square: 1,
  };

  const targetRatio = aspectRatios[layout];
  const actualRatio = width / height;
  const tolerance = 0.1; // 10%ã®è¨±å®¹èª¤å·®

  return Math.abs(actualRatio - targetRatio) < tolerance;
};
```

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Phase 1**: åŸºæœ¬çš„ãªAPIå®Ÿè£…
   - [ ] `POST /api/blog/create` å®Ÿè£…
   - [ ] `POST /api/blog/upload` å®Ÿè£…
   - [ ] ç”»åƒã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ¥ãƒ•ã‚©ãƒ«ãƒ€è‡ªå‹•æŒ¯ã‚Šåˆ†ã‘

2. **Phase 2**: ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¢ãƒ—ãƒªã«ç®¡ç†ç”»é¢è¿½åŠ 
   - [ ] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé¸æŠUIå®Ÿè£…
   - [ ] ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
   - [ ] ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

3. **Phase 3**: é«˜åº¦ãªæ©Ÿèƒ½
   - [ ] ç”»åƒã®è‡ªå‹•ãƒªã‚µã‚¤ã‚ºãƒ»æœ€é©åŒ–
   - [ ] è¤‡æ•°ç”»åƒã®ã‚®ãƒ£ãƒ©ãƒªãƒ¼å¯¾å¿œ
   - [ ] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è‡ªå‹•ææ¡ˆï¼ˆAIã§æœ€é©ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ¨å¥¨ï¼‰

---

**æœ€çµ‚æ›´æ–°**: 2026-01-06
**æ¬¡å›æ›´æ–°**: APIå®Ÿè£…é–‹å§‹æ™‚
