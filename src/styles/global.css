@tailwind base;
@tailwind components;
@tailwind utilities;

/* フォント設定 */
.font-mincho { 
  font-family: 'Shippori Mincho', serif; 
}
.font-gothic { 
  font-family: 'Zen Kaku Gothic New', sans-serif; 
}

/* 縦書きモードの設定（PC最適化・密度高め） */
.vertical-writing {
  writing-mode: vertical-rl;
  text-orientation: upright;
  overflow-x: auto;
  overflow-y: hidden;
  height: 80vh;
  width: 100%;
  line-height: 1.8;
  letter-spacing: 0.05em;
  text-align: justify;
}

.vertical-writing p {
  margin-left: 1.5em;
  margin-bottom: 0; 
  text-indent: 1em;
}

.vertical-writing h1, 
.vertical-writing h2, 
.vertical-writing h3 {
  margin-left: 2.5em;
  font-weight: 700;
  line-height: 1.4;
}

/* フィルムノイズなどのエフェクト */
.noise-overlay {
  position: fixed;
  top: 0; 
  left: 0; 
  width: 100%; 
  height: 100%;
  background: url('https://www.transparenttextures.com/patterns/stardust.png');
  opacity: 0.1;
  pointer-events: none;
  z-index: 5;
}

.vignette {
  background: radial-gradient(circle, rgba(0,0,0,0) 50%, rgba(30,15,5,0.9) 100%);
}

/* アニメーション */
@keyframes fade-in-up {
  from { 
    opacity: 0; 
    transform: translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

.animate-fade-up {
  animation: fade-in-up 1s ease-out forwards;
}

/* スクロールバー制御 */
.custom-scrollbar::-webkit-scrollbar { 
  width: 4px; 
  height: 4px; 
}

.custom-scrollbar::-webkit-scrollbar-track { 
  background: transparent; 
}

.custom-scrollbar::-webkit-scrollbar-thumb { 
  background-color: rgba(194, 65, 12, 0.4); 
  border-radius: 4px; 
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover { 
  background-color: rgba(194, 65, 12, 0.8); 
}

/* プレイヤーアニメーション */
@keyframes slide-up {
  from { 
    transform: translateY(100%); 
  }
  to { 
    transform: translateY(0); 
  }
}

.player-slide-up {
  animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* 波形アニメーション */
@keyframes sound-wave {
  0%, 100% { 
    height: 4px; 
  }
  50% { 
    height: 16px; 
  }
}

.playing .bar {
  animation: sound-wave 1s ease-in-out infinite;
}

.playing .bar:nth-child(2) { 
  animation-delay: 0.1s; 
}

.playing .bar:nth-child(3) { 
  animation-delay: 0.2s; 
}

.playing .bar:nth-child(4) { 
  animation-delay: 0.3s; 
}

/* View Transitions のアニメーション */
@view-transition {
  navigation: auto;
}

::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.3s;
}

/* 音楽プレイヤーの永続化 */
[data-astro-transition-persist="audio-player"] {
  view-transition-name: audio-player;
}
